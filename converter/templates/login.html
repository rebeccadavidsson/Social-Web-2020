{% extends "base.html" %}

{% block body %}

{% load static %}
<div class="container-login100">
	<div class="limiter">
  	<div class="container-login100">
    	<div class="wrap-login100">
      	<div class="login100-pic js-tilt" data-tilt>
      	<img src="{% static 'images/img-01.png' %}" alt="IMG">
      	</div>
      	<form class="login100-form validate-form" method="POST" action="{% url 'login' %}">
				  {% csrf_token %}
			  	<span class="login100-form-title">
			  	Member Login
			  	</span>
			  	<div class="wrap-input100 validate-input" data-validate="Valid email is required: ex@abc.xyz">
			    	<input class="input100" type="text" name="username" placeholder="Email">
			    	<span class="focus-input100"></span>
			    	<span class="symbol-input100">
			    	<i class="fas fa-user" aria-hidden="true"></i>
			    	</span>
			  	</div>
			  	<div class="wrap-input100 validate-input" data-validate="Password is required">
			    	<input class="input100" type="password" name="password" placeholder="Password">
			    	<span class="focus-input100"></span>
			    	<span class="symbol-input100">
			    	<i class="fa fa-lock" aria-hidden="true"></i>
			    	</span>
			  	</div>
			  	<div class="container-login100-form-btn">
			    	<button class="login100-form-btn" style="margin-bottom:15px;">
			    	Login
			    	</button>
						<!-- <fb:login-button
							class="facebook"
							data-size="large"
							data-show-faces="false"
							data-auto-logout-link="false"
							login_text="Login with FaceBook"
							scope="public_profile,email"
							onlogin="checkLoginState();">
						</fb:login-button> -->
						<div class="fb-login-button"
						data-width=""
						data-size="large"
						data-button-type="continue_with"
						data-auto-logout-link="false"
						data-use-continue-as="true"
						onlogin="checkLoginState();"></div>
						<!-- <p>Hier is een Apache voor nodig om https://localhost... ipv http te kunnen supporten.</p>
						<p>Of een andere manier waardoor je django kan runnen op https</p>
						<p>NU DOET DIT HET DUS NOG NIET :(</p> -->
			  	</div>
			  	<div class="text-center p-t-136">
			    	<a class="txt2" href="{% url 'register' %}">
			    	Create your Account
			    	<i class="fa fa-long-arrow-right m-l-5" aria-hidden="true"></i>
			  	  </a>
			  	</div>
      	</form>
    	</div>
  	</div>
	</div>
</div>

<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '2599455113671672',
      cookie     : true,
      xfbml      : true,
      version    : 'v2.2'
    });

    FB.AppEvents.logPageView();

  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "https://connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));

	//  FB.getLoginStatus(function(response) {
	//     statusChangeCallback(response);
	// 		console.log(statusChangeCallback(response), "RESPONSE");
	// });

	 function checkLoginState() {
		   FB.getLoginStatus(function(response) {
				 console.log(statusChangeCallback(response), "RESPONSE");
		     statusChangeCallback(response);
		   });
		 }
</script>

{% endblock %}
